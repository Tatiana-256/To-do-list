(this["webpackJsonpto-do-list"]=this["webpackJsonpto-do-list"]||[]).push([[0],{15:function(t,e,a){},26:function(t,e,a){t.exports=a(56)},31:function(t,e,a){},55:function(t,e,a){},56:function(t,e,a){"use strict";a.r(e);var n,o=a(0),s=a.n(o),i=a(8),r=a.n(i),c=(a(31),a(2)),l=a(3),u=a(5),d=a(4),p=(a(15),a(7)),h=a(1),f=a(25),m=a.n(f).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/todo-lists",withCredentials:!0,headers:{"API-KEY":"55ac5274-f21f-43a3-b42e-5cfba380d176"}}),v=function(t){return m.post("",{title:t})},k=function(t,e){return m.post("/".concat(e,"/tasks"),{title:t})},b=function(){return m.get("/")},O=function(t,e,a,n){return m.put("/".concat(t,"/tasks/").concat(e),Object(h.a)(Object(h.a)({},a),n))},T=function(t,e){return m.put("/".concat(t),Object(h.a)({},e))},g=function(t){return m.delete("/".concat(t))},E=function(t,e){return m.delete("/".concat(t,"/tasks/").concat(e))},j=function(t){return m.get("/".concat(t,"/tasks"))};!function(t){t[t.Success=0]="Success",t[t.Error=1]="Error"}(n||(n={}));a(55);var L=function(t){Object(u.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={editMode:!1,title:""},t.activateEditMode=function(){t.setState({editMode:!0})},t.deActivateEditMode=function(e){t.props.changeTitle(t.props.task,e.currentTarget.value),t.setState({title:e.currentTarget.value,editMode:!1})},t.onIsDoneChanges=function(e){t.props.changeStatus(t.props.task,e.currentTarget.checked)},t.onChangePriority=function(e){t.props.changePriority(t.props.task,e.currentTarget.value)},t.deleteTask=function(){t.props.deleteTask(t.props.task.id)},t.classSelect=function(){return"1"===t.props.task.priority?"low":"2"===t.props.task.priority?"average":"3"===t.props.task.priority?"high":void 0},t}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:""},s.a.createElement("div",{className:"todoList-tasks"},s.a.createElement("div",{className:"todoList-task"},s.a.createElement("div",{className:"hov"},s.a.createElement("input",{onChange:this.onIsDoneChanges,type:"checkbox",checked:this.props.task.status}),this.state.editMode?s.a.createElement("input",{onBlur:this.deActivateEditMode,autoFocus:!0,defaultValue:this.props.task.title}):s.a.createElement("span",{onClick:this.activateEditMode},this.props.task.title),s.a.createElement("div",{className:"inner"},s.a.createElement("div",null,"Created: ",this.props.task.addedDate))),s.a.createElement("div",{className:"prior"},s.a.createElement("select",{className:this.classSelect,value:this.props.task.priority,onChange:this.onChangePriority},s.a.createElement("option",null,"Select priority:"),s.a.createElement("option",{value:"1",className:"low"},"low"),s.a.createElement("option",{value:"2",className:"average"},"average"),s.a.createElement("option",{value:"3",className:"high"},"high")),s.a.createElement("button",{className:"delete",onClick:this.deleteTask},"x")))))}}]),a}(s.a.Component),D=function(t){Object(u.a)(a,t);var e=Object(d.a)(a);function a(){return Object(c.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var t=this,e=this.props.tasks.map((function(e){return s.a.createElement(L,{changeTitle:t.props.changeTitle,changeStatus:t.props.changeStatus,deleteTask:t.props.deleteTask,changePriority:t.props.changePriority,task:e})}));return s.a.createElement("div",{className:"todoList-task"},e)}}]),a}(s.a.Component),C=function(t){Object(u.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={isHidden:!0},t.hideShow=function(){t.setState({isHidden:!t.state.isHidden})},t.onAllFilterClick=function(){t.props.changeFilter("All")},t.onCompletedFilterClick=function(){t.props.changeFilter("Completed")},t.onActiveFilterClick=function(){t.props.changeFilter("Active")},t}return Object(l.a)(a,[{key:"render",value:function(){var t="All"===this.props.filterValue?"filter-active":"normal",e="Completed"===this.props.filterValue?"filter-active":"normal",a="Active"===this.props.filterValue?"filter-active":"normal";return s.a.createElement("div",{className:"todoList-footer"},this.state.isHidden&&s.a.createElement("div",null,s.a.createElement("button",{className:t,onClick:this.onAllFilterClick},"All"),s.a.createElement("button",{className:e,onClick:this.onCompletedFilterClick},"Completed"),s.a.createElement("button",{className:a,onClick:this.onActiveFilterClick},"Active")),this.state.isHidden?s.a.createElement("div",null,s.a.createElement("button",{onClick:this.hideShow,className:"btn"},"Hide")):s.a.createElement("div",null,s.a.createElement("button",{onClick:this.hideShow,className:"btn"},"Show")))}}]),a}(s.a.Component),S=function(t){Object(u.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={editMode:!1,title:t.props.title},t.activateEditMode=function(){t.setState({editMode:!0})},t.deActivateEditMode=function(e){t.props.changeTitle(e.currentTarget.value),t.setState({editMode:!1})},t}return Object(l.a)(a,[{key:"onTitleChange",value:function(t){this.setState({title:t.currentTarget.value})}},{key:"render",value:function(){return s.a.createElement("div",{className:"inpt"},this.state.editMode?s.a.createElement("input",{onBlur:this.deActivateEditMode,autoFocus:!0,value:this.state.title,onChange:this.onTitleChange}):s.a.createElement("span",{onClick:this.activateEditMode},this.props.title),s.a.createElement("div",null,s.a.createElement("button",{className:"delete",onClick:this.props.deleteToDoList},"x")))}}]),a}(s.a.Component),y=function(t){Object(u.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={error:!0,itemName:""},t.onAddItemClick=function(){var e=t.state.itemName;t.setState({itemName:""}),""===e?t.setState({error:!0}):(t.setState({error:!1}),t.props.addItem(e))},t.onItemChange=function(e){t.setState({error:!1,itemName:e.currentTarget.value})},t.onKeyPress=function(e){"Enter"===e.key&&t.onAddItemClick()},t}return Object(l.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"todoList-newTaskForm"},s.a.createElement("input",{value:this.state.itemName,onChange:this.onItemChange,type:"text",onKeyPress:this.onKeyPress,placeholder:"New task name",className:this.state.error?"error":""}),s.a.createElement("button",{onClick:this.onAddItemClick,className:"btn"},"Add")))}}]),a}(s.a.Component),A=a(10),I="todolist/reducer/ADD_TO_DO_LIST",N="todolist/reducer/ADD_TASK",w="todolist/reducer/CHANGE_TASK",M="todolist/reducer/DELETE_TODOLIST",F="todolist/reducer/DELETE_TASK",_="todolist/reducer/SET_TO_DO_LIST",P="todolist/reducer/SET_TASKS",H={toDoLists:[]},V=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case I:return Object(h.a)(Object(h.a)({},t),{},{toDoLists:[e.newList].concat(Object(A.a)(t.toDoLists))});case _:return Object(h.a)(Object(h.a)({},t),{},{toDoLists:e.toDoLists.map((function(t){return Object(h.a)(Object(h.a)({},t),{},{tasks:[]})}))});case P:return Object(h.a)(Object(h.a)({},t),{},{toDoLists:t.toDoLists.map((function(t){return t.id!==e.todolistId?t:Object(h.a)(Object(h.a)({},t),{},{tasks:e.tasks})}))});case N:var a=t.toDoLists.map((function(t){return t.id!==e.newTask.todoListId?t:Object(h.a)(Object(h.a)({},t),{},{tasks:[].concat(Object(A.a)(t.tasks),[e.newTask])})}));return Object(h.a)(Object(h.a)({},t),{},{toDoLists:a});case w:return Object(h.a)(Object(h.a)({},t),{},{toDoLists:t.toDoLists.map((function(t){return t.id!==e.toDoListId?t:Object(h.a)(Object(h.a)({},t),{},{tasks:Object(A.a)(t.tasks.map((function(t){return t.id!==e.taskId?t:Object(h.a)(Object(h.a)({},t),e.obj)})))})}))});case"CHANGE_LIST_TITLE":return Object(h.a)(Object(h.a)({},t),{},{toDoLists:t.toDoLists.map((function(t){return t.id!==e.toDoListId?t:Object(h.a)(Object(h.a)({},t),e.obj)}))});case M:return Object(h.a)(Object(h.a)({},t),{},{toDoLists:t.toDoLists.filter((function(t){return t.id!==e.toDoListId}))});case F:return Object(h.a)(Object(h.a)({},t),{},{toDoLists:t.toDoLists.map((function(t){return t.id!==e.toDoListId?t:Object(h.a)(Object(h.a)({},t),{},{tasks:t.tasks.filter((function(t){return t.id!==e.taskId}))})}))})}return t},K=function(t){return{type:N,newTask:t}},x=function(t){return{type:I,newList:t}},B=function(t,e,a){return{type:w,obj:a,taskId:e,toDoListId:t}},G=function(t,e){return{type:"CHANGE_LIST_TITLE",obj:e,toDoListId:t}},J=function(t){return{type:M,toDoListId:t}},W=function(t,e){return{type:F,toDoListId:t,taskId:e}},R=function(t){return{type:_,toDoLists:t}},U=function(t,e){return{type:P,tasks:t,todolistId:e}},Y=function(t){Object(u.a)(a,t);var e=Object(d.a)(a);function a(t){var o;return Object(c.a)(this,a),(o=e.call(this,t)).restoreState=function(){j(o.props.id).then((function(t){t.data.error||o.props.setTasks(t.data.items,o.props.id)}))},o.state={tasks:[],filterValue:"All"},o.saveState=function(){localStorage.setItem("our-state"+o.props.id,JSON.stringify(o.state))},o.addItem=function(t){k(t,o.props.id).then((function(t){t.data.resultCode===n.Success&&o.props.addTask(t.data.data.item)}))},o.changeFilter=function(t){o.setState({filterValue:t},(function(){o.saveState()}))},o.changeStatus=function(t,e){O(o.props.id,t.id,t,{status:e}).then((function(a){a.data.resultCode===n.Success&&o.props.\u0441hangeTask(o.props.id,t.id,{status:e})}))},o.changeTitleOfList=function(t){T(o.props.id,{title:t}).then((function(e){e.data.resultCode===n.Success&&o.props.\u0441hangeListTitle(o.props.id,{title:t})}))},o.changeTitle=function(t,e){O(o.props.id,t.id,t,{title:e}).then((function(a){a.data.resultCode===n.Success&&o.props.\u0441hangeTask(o.props.id,t.id,{title:e})}))},o.changePriority=function(t,e){O(o.props.id,t.id,t,{priority:e}).then((function(a){a.data.resultCode===n.Success&&o.props.\u0441hangeTask(o.props.id,t.id,{priority:e})}))},o.deleteToDoList=function(){g(o.props.id).then((function(t){t.data.resultCode===n.Success&&o.props.deleteToDoList(o.props.id)}))},o.deleteTask=function(t){E(o.props.id,t).then((function(e){e.data.resultCode===n.Success&&o.props.deleteTask(o.props.id,t)}))},o.render=function(){var t=o.props.tasks,e=void 0===t?[]:t;return s.a.createElement("div",{className:"todoList"},s.a.createElement(S,{title:o.props.title,deleteToDoList:o.deleteToDoList,changeTitle:o.changeTitleOfList}),s.a.createElement(y,{addItem:o.addItem}),s.a.createElement(D,{changeTitle:o.changeTitle,changeStatus:o.changeStatus,deleteTask:o.deleteTask,changePriority:o.changePriority,tasks:e.filter((function(t){return"All"===o.state.filterValue||("Completed"===o.state.filterValue?1===t.status:"Active"===o.state.filterValue?0===t.status:void 0)}))}),s.a.createElement(C,{isHidden:o.state.isHidden,filterValue:o.state.filterValue,changeFilter:o.changeFilter}))},o}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.restoreState()}}]),a}(s.a.Component),$=Object(p.b)(null,(function(t){return{addTask:function(e){t(K(e))},"\u0441hangeTask":function(e,a,n){t(B(e,a,n))},"\u0441hangeListTitle":function(e,a){t(G(e,a))},deleteToDoList:function(e){t(J(e))},deleteTask:function(e,a){t(W(e,a))},setTasks:function(e,a){t(U(e,a))}}}))(Y),q=function(t){Object(u.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(c.a)(this,a);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={toDoLists:[]},t.restoreState=function(){b().then((function(e){t.props.setToDoList(e.data)}))},t.nextToDoListId=0,t.addToDoList=function(e){v(e).then((function(e){e.data.resultCode===n.Success&&t.props.addToDoList(e.data.data.item)}))},t.render=function(){var e=t.props.toDoLists.map((function(t){return s.a.createElement($,{id:t.id,title:t.title,tasks:t.tasks})}));return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"header"},s.a.createElement("h3",null,"Add new list"),s.a.createElement(y,{addItem:t.addToDoList})),s.a.createElement("div",{className:"toDo"},e))},t}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.restoreState()}}]),a}(s.a.Component),z=Object(p.b)((function(t){return{toDoLists:t.toDoLists}}),(function(t){return{addToDoList:function(e){t(x(e))},setToDoList:function(e){t(R(e))}}}))(q);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Q=a(9),X=Object(Q.b)(V);r.a.render(s.a.createElement(p.a,{store:X},s.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.34af7f46.chunk.js.map