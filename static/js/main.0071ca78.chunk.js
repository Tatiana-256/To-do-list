(this["webpackJsonpto-do-list"]=this["webpackJsonpto-do-list"]||[]).push([[0],{15:function(t,e,a){},26:function(t,e,a){t.exports=a(56)},31:function(t,e,a){},55:function(t,e,a){},56:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),i=a(8),s=a.n(i),r=(a(31),a(2)),c=a(3),l=a(5),u=a(4),d=(a(15),a(7)),p=a(1),h=a(25),f=a.n(h).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/todo-lists",withCredentials:!0,headers:{"API-KEY":"55ac5274-f21f-43a3-b42e-5cfba380d176"}}),m=function(t){return f.post("",{title:t})},k=function(t,e){return f.post("/".concat(e,"/tasks"),{title:t})},v=function(){return f.get("/")},b=function(t,e,a,n){return f.put("/".concat(t,"/tasks/").concat(e),Object(p.a)(Object(p.a)({},a),n))},O=function(t,e){return f.put("/".concat(t),Object(p.a)({},e))},T=function(t){return f.delete("/".concat(t))},g=function(t,e){return f.delete("/".concat(t,"/tasks/").concat(e))},E=function(t){return f.get("/".concat(t,"/tasks"))},j=(a(55),function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).state={editMode:!1,title:""},t.activateEditMode=function(){t.setState({editMode:!0})},t.deActivateEditMode=function(e){t.props.changeTitle(t.props.task,e.currentTarget.value),t.setState({title:e.currentTarget.value,editMode:!1})},t.onIsDoneChanges=function(e){t.props.changeStatus(t.props.task,e.currentTarget.checked)},t.onChangePriority=function(e){t.props.changePriority(t.props.task,e.currentTarget.value)},t.deleteTask=function(){t.props.deleteTask(t.props.task.id)},t.classSelect=function(){return"1"===t.props.task.priority?"low":"2"===t.props.task.priority?"average":"3"===t.props.task.priority?"high":void 0},t}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:""},o.a.createElement("div",{className:"todoList-tasks"},o.a.createElement("div",{className:"todoList-task"},o.a.createElement("div",{className:"hov"},o.a.createElement("input",{onChange:this.onIsDoneChanges,type:"checkbox",checked:this.props.task.status}),this.state.editMode?o.a.createElement("input",{onBlur:this.deActivateEditMode,autoFocus:!0,defaultValue:this.props.task.title}):o.a.createElement("span",{onClick:this.activateEditMode},this.props.task.title),o.a.createElement("div",{className:"inner"},o.a.createElement("div",null,"Created: ",this.props.task.addedDate))),o.a.createElement("div",{className:"prior"},o.a.createElement("select",{className:this.classSelect,value:this.props.task.priority,onChange:this.onChangePriority},o.a.createElement("option",null,"Select priority:"),o.a.createElement("option",{value:"1",className:"low"},"low"),o.a.createElement("option",{value:"2",className:"average"},"average"),o.a.createElement("option",{value:"3",className:"high"},"high")),o.a.createElement("button",{className:"delete",onClick:this.deleteTask},"x")))))}}]),a}(o.a.Component)),L=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){return Object(r.a)(this,a),e.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var t=this,e=this.props.tasks.map((function(e){return o.a.createElement(j,{changeTitle:t.props.changeTitle,changeStatus:t.props.changeStatus,deleteTask:t.props.deleteTask,changePriority:t.props.changePriority,task:e})}));return o.a.createElement("div",{className:"todoList-task"},e)}}]),a}(o.a.Component),D=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).state={isHidden:!0},t.hideShow=function(){t.setState({isHidden:!t.state.isHidden})},t.onAllFilterClick=function(){t.props.changeFilter("All")},t.onCompletedFilterClick=function(){t.props.changeFilter("Completed")},t.onActiveFilterClick=function(){t.props.changeFilter("Active")},t}return Object(c.a)(a,[{key:"render",value:function(){var t="All"===this.props.filterValue?"filter-active":"normal",e="Completed"===this.props.filterValue?"filter-active":"normal",a="Active"===this.props.filterValue?"filter-active":"normal";return o.a.createElement("div",{className:"todoList-footer"},this.state.isHidden&&o.a.createElement("div",null,o.a.createElement("button",{className:t,onClick:this.onAllFilterClick},"All"),o.a.createElement("button",{className:e,onClick:this.onCompletedFilterClick},"Completed"),o.a.createElement("button",{className:a,onClick:this.onActiveFilterClick},"Active")),this.state.isHidden?o.a.createElement("div",null,o.a.createElement("button",{onClick:this.hideShow,className:"btn"},"Hide")):o.a.createElement("div",null,o.a.createElement("button",{onClick:this.hideShow,className:"btn"},"Show")))}}]),a}(o.a.Component),C=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).state={editMode:!1,title:t.props.title},t.activateEditMode=function(){t.setState({editMode:!0})},t.deActivateEditMode=function(e){t.props.changeTitle(e.currentTarget.value),t.setState({editMode:!1})},t}return Object(c.a)(a,[{key:"onTitleChange",value:function(t){this.setState({title:t.currentTarget.value})}},{key:"render",value:function(){return o.a.createElement("div",{className:"inpt"},this.state.editMode?o.a.createElement("input",{onBlur:this.deActivateEditMode,autoFocus:!0,value:this.state.title,onChange:this.onTitleChange}):o.a.createElement("span",{onClick:this.activateEditMode},this.props.title),o.a.createElement("div",null,o.a.createElement("button",{className:"delete",onClick:this.props.deleteToDoList},"x")))}}]),a}(o.a.Component),y=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).state={error:!0,itemName:""},t.onAddItemClick=function(){var e=t.state.itemName;t.setState({itemName:""}),""===e?t.setState({error:!0}):(t.setState({error:!1}),t.props.addItem(e))},t.onItemChange=function(e){t.setState({error:!1,itemName:e.currentTarget.value})},t.onKeyPress=function(e){"Enter"===e.key&&t.onAddItemClick()},t}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"todoList-newTaskForm"},o.a.createElement("input",{value:this.state.itemName,onChange:this.onItemChange,type:"text",onKeyPress:this.onKeyPress,placeholder:"New task name",className:this.state.error?"error":""}),o.a.createElement("button",{onClick:this.onAddItemClick,className:"btn"},"Add")))}}]),a}(o.a.Component),S=a(10),A="todolist/reducer/ADD_TO_DO_LIST",I="todolist/reducer/ADD_TASK",N="todolist/reducer/CHANGE_TASK",w="todolist/reducer/DELETE_TODOLIST",M="todolist/reducer/DELETE_TASK",F="todolist/reducer/SET_TO_DO_LIST",_="todolist/reducer/SET_TASKS",P={toDoLists:[]},H=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case A:return Object(p.a)(Object(p.a)({},t),{},{toDoLists:[e.newList].concat(Object(S.a)(t.toDoLists))});case F:return Object(p.a)(Object(p.a)({},t),{},{toDoLists:e.toDoLists.map((function(t){return Object(p.a)(Object(p.a)({},t),{},{tasks:[]})}))});case _:return Object(p.a)(Object(p.a)({},t),{},{toDoLists:t.toDoLists.map((function(t){return t.id!==e.todolistId?t:Object(p.a)(Object(p.a)({},t),{},{tasks:e.tasks})}))});case I:var a=t.toDoLists.map((function(t){return t.id!==e.newTask.todoListId?t:Object(p.a)(Object(p.a)({},t),{},{tasks:[].concat(Object(S.a)(t.tasks),[e.newTask])})}));return Object(p.a)(Object(p.a)({},t),{},{toDoLists:a});case N:return Object(p.a)(Object(p.a)({},t),{},{toDoLists:t.toDoLists.map((function(t){return t.id!==e.toDoListId?t:Object(p.a)(Object(p.a)({},t),{},{tasks:Object(S.a)(t.tasks.map((function(t){return t.id!==e.taskId?t:Object(p.a)(Object(p.a)({},t),e.obj)})))})}))});case"CHANGE_LIST_TITLE":return Object(p.a)(Object(p.a)({},t),{},{toDoLists:t.toDoLists.map((function(t){return t.id!==e.toDoListId?t:Object(p.a)(Object(p.a)({},t),e.obj)}))});case w:return Object(p.a)(Object(p.a)({},t),{},{toDoLists:t.toDoLists.filter((function(t){return t.id!==e.toDoListId}))});case M:return Object(p.a)(Object(p.a)({},t),{},{toDoLists:t.toDoLists.map((function(t){return t.id!==e.toDoListId?t:Object(p.a)(Object(p.a)({},t),{},{tasks:t.tasks.filter((function(t){return t.id!==e.taskId}))})}))})}return t},V=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(r.a)(this,a),(n=e.call(this,t)).restoreState=function(){E(n.props.id).then((function(t){t.data.error||n.props.setTasks(t.data.items,n.props.id)}))},n.state={tasks:[],filterValue:"All"},n.saveState=function(){localStorage.setItem("our-state"+n.props.id,JSON.stringify(n.state))},n.addItem=function(t){k(t,n.props.id).then((function(t){0===t.data.resultCode&&n.props.addTask(t.data.data.item)}))},n.changeFilter=function(t){n.setState({filterValue:t},(function(){n.saveState()}))},n.changeStatus=function(t,e){b(n.props.id,t.id,t,{status:e}).then((function(a){0===a.data.resultCode&&n.props.\u0441hangeTask(n.props.id,t.id,{status:e})}))},n.changeTitleOfList=function(t){O(n.props.id,{title:t}).then((function(e){0===e.data.resultCode&&n.props.\u0441hangeListTitle(n.props.id,{title:t})}))},n.changeTitle=function(t,e){b(n.props.id,t.id,t,{title:e}).then((function(a){0===a.data.resultCode&&n.props.\u0441hangeTask(n.props.id,t.id,{title:e})}))},n.changePriority=function(t,e){b(n.props.id,t.id,t,{priority:e}).then((function(a){0===a.data.resultCode&&n.props.\u0441hangeTask(n.props.id,t.id,{priority:e})}))},n.deleteToDoList=function(){T(n.props.id).then((function(t){0===t.data.resultCode&&n.props.deleteToDoList(n.props.id)}))},n.deleteTask=function(t){g(n.props.id,t).then((function(e){0===e.data.resultCode&&n.props.deleteTask(n.props.id,t)}))},n.render=function(){var t=n.props.tasks,e=void 0===t?[]:t;return o.a.createElement("div",{className:"todoList"},o.a.createElement(C,{title:n.props.title,deleteToDoList:n.deleteToDoList,changeTitle:n.changeTitleOfList}),o.a.createElement(y,{addItem:n.addItem}),o.a.createElement(L,{changeTitle:n.changeTitle,changeStatus:n.changeStatus,deleteTask:n.deleteTask,changePriority:n.changePriority,tasks:e.filter((function(t){return"All"===n.state.filterValue||("Completed"===n.state.filterValue?1===t.status:"Active"===n.state.filterValue?0===t.status:void 0)}))}),o.a.createElement(D,{isHidden:n.state.isHidden,filterValue:n.state.filterValue,changeFilter:n.changeFilter}))},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.restoreState()}}]),a}(o.a.Component),K=Object(d.b)(null,(function(t){return{addTask:function(e){t(function(t){return{type:I,newTask:t}}(e))},"\u0441hangeTask":function(e,a,n){t(function(t,e,a){return{type:N,obj:a,taskId:e,toDoListId:t}}(e,a,n))},"\u0441hangeListTitle":function(e,a){t(function(t,e){return{type:"CHANGE_LIST_TITLE",obj:e,toDoListId:t}}(e,a))},deleteToDoList:function(e){t(function(t){return{type:w,toDoListId:t}}(e))},deleteTask:function(e,a){t(function(t,e){return{type:M,toDoListId:t,taskId:e}}(e,a))},setTasks:function(e,a){t(function(t,e){return{type:_,tasks:t,todolistId:e}}(e,a))}}}))(V),x=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(r.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={toDoLists:[]},t.restoreState=function(){v().then((function(e){t.props.setToDoList(e.data)}))},t.nextToDoListId=0,t.addToDoList=function(e){m(e).then((function(e){0===e.data.resultCode&&t.props.addToDoList(e.data.data.item)}))},t.render=function(){var e=t.props.toDoLists.map((function(t){return o.a.createElement(K,{id:t.id,title:t.title,tasks:t.tasks})}));return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"header"},o.a.createElement("h3",null,"Add new list"),o.a.createElement(y,{addItem:t.addToDoList})),o.a.createElement("div",{className:"toDo"},e))},t}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.restoreState()}}]),a}(o.a.Component),B=Object(d.b)((function(t){return{toDoLists:t.toDoLists}}),(function(t){return{addToDoList:function(e){t(function(t){return{type:A,newList:t}}(e))},setToDoList:function(e){t(function(t){return{type:F,toDoLists:t}}(e))}}}))(x);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=a(9),J=Object(G.b)(H);s.a.render(o.a.createElement(d.a,{store:J},o.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.0071ca78.chunk.js.map