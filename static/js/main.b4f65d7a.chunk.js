(this["webpackJsonpto-do-list"]=this["webpackJsonpto-do-list"]||[]).push([[0],{16:function(t,e,a){},27:function(t,e,a){t.exports=a(57)},32:function(t,e,a){},56:function(t,e,a){},57:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),i=a(9),s=a.n(i),r=(a(32),a(2)),c=a(3),l=a(5),u=a(4),d=a(6),p=(a(16),a(8)),h=a(1),f=a(26),m=a.n(f).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/todo-lists",withCredentials:!0,headers:{"API-KEY":"55ac5274-f21f-43a3-b42e-5cfba380d176"}}),k=function(t){return m.post("",{title:t})},v=function(t,e){return m.post("/".concat(e,"/tasks"),{title:t})},b=function(){return m.get("/")},T=function(t,e,a,n){return m.put("/".concat(t,"/tasks/").concat(e),Object(h.a)({},a,{},n))},g=function(t,e){return m.put("/".concat(t),Object(h.a)({},e))},E=function(t){return m.delete("/".concat(t))},O=function(t,e){return m.delete("/".concat(t,"/tasks/").concat(e))},L=function(t){return m.get("/".concat(t,"/tasks"))},j=(a(56),function(t){function e(){var t,a;Object(r.a)(this,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).state={editMode:!1,title:""},a.activateEditMode=function(){a.setState({editMode:!0})},a.deActivateEditMode=function(t){a.props.changeTitle(a.props.task,t.currentTarget.value),a.setState({title:t.currentTarget.value,editMode:!1})},a.onIsDoneChanges=function(t){a.props.changeStatus(a.props.task,t.currentTarget.checked)},a.onChangePriority=function(t){a.props.changePriority(a.props.task,t.currentTarget.value)},a.deleteTask=function(){a.props.deleteTask(a.props.task.id)},a.classSelect=function(){return"1"===a.props.task.priority?"low":"2"===a.props.task.priority?"average":"3"===a.props.task.priority?"high":void 0},a}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:""},o.a.createElement("div",{className:"todoList-tasks"},o.a.createElement("div",{className:"todoList-task"},o.a.createElement("div",{className:"hov"},o.a.createElement("input",{onChange:this.onIsDoneChanges,type:"checkbox",checked:this.props.task.status}),this.state.editMode?o.a.createElement("input",{onBlur:this.deActivateEditMode,autoFocus:!0,defaultValue:this.props.task.title}):o.a.createElement("span",{onClick:this.activateEditMode},this.props.task.title),o.a.createElement("div",{className:"inner"},o.a.createElement("div",null,"Created: ",this.props.task.addedDate))),o.a.createElement("div",{className:"prior"},o.a.createElement("select",{className:this.classSelect,value:this.props.task.priority,onChange:this.onChangePriority},o.a.createElement("option",null,"Select priority:"),o.a.createElement("option",{value:"1",className:"low"},"low"),o.a.createElement("option",{value:"2",className:"average"},"average"),o.a.createElement("option",{value:"3",className:"high"},"high")),o.a.createElement("button",{className:"delete",onClick:this.deleteTask},"x")))))}}]),e}(o.a.Component)),D=function(t){function e(){return Object(r.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this,e=this.props.tasks.map((function(e){return o.a.createElement(j,{changeTitle:t.props.changeTitle,changeStatus:t.props.changeStatus,deleteTask:t.props.deleteTask,changePriority:t.props.changePriority,task:e})}));return o.a.createElement("div",{className:"todoList-task"},e)}}]),e}(o.a.Component),C=function(t){function e(){var t,a;Object(r.a)(this,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).state={isHidden:!0},a.hideShow=function(){a.setState({isHidden:!a.state.isHidden})},a.onAllFilterClick=function(){a.props.changeFilter("All")},a.onCompletedFilterClick=function(){a.props.changeFilter("Completed")},a.onActiveFilterClick=function(){a.props.changeFilter("Active")},a}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t="All"===this.props.filterValue?"filter-active":"normal",e="Completed"===this.props.filterValue?"filter-active":"normal",a="Active"===this.props.filterValue?"filter-active":"normal";return o.a.createElement("div",{className:"todoList-footer"},this.state.isHidden&&o.a.createElement("div",null,o.a.createElement("button",{className:t,onClick:this.onAllFilterClick},"All"),o.a.createElement("button",{className:e,onClick:this.onCompletedFilterClick},"Completed"),o.a.createElement("button",{className:a,onClick:this.onActiveFilterClick},"Active")),this.state.isHidden?o.a.createElement("div",null,o.a.createElement("button",{onClick:this.hideShow,className:"btn"},"Hide")):o.a.createElement("div",null,o.a.createElement("button",{onClick:this.hideShow,className:"btn"},"Show")))}}]),e}(o.a.Component),y=function(t){function e(){var t,a;Object(r.a)(this,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).state={editMode:!1,title:a.props.title},a.activateEditMode=function(){a.setState({editMode:!0})},a.deActivateEditMode=function(t){a.props.changeTitle(t.currentTarget.value),a.setState({editMode:!1})},a}return Object(d.a)(e,t),Object(c.a)(e,[{key:"onTitleChange",value:function(t){this.setState({title:t.currentTarget.value})}},{key:"render",value:function(){return o.a.createElement("div",{className:"inpt"},this.state.editMode?o.a.createElement("input",{onBlur:this.deActivateEditMode,autoFocus:!0,value:this.state.title,onChange:this.onTitleChange}):o.a.createElement("span",{onClick:this.activateEditMode},this.props.title),o.a.createElement("div",null,o.a.createElement("button",{className:"delete",onClick:this.props.deleteToDoList},"x")))}}]),e}(o.a.Component),S=function(t){function e(){var t,a;Object(r.a)(this,e);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).state={error:!0,itemName:""},a.onAddItemClick=function(){var t=a.state.itemName;a.setState({itemName:""}),""===t?a.setState({error:!0}):(a.setState({error:!1}),a.props.addItem(t))},a.onItemChange=function(t){a.setState({error:!1,itemName:t.currentTarget.value})},a.onKeyPress=function(t){"Enter"===t.key&&a.onAddItemClick()},a}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"todoList-newTaskForm"},o.a.createElement("input",{value:this.state.itemName,onChange:this.onItemChange,type:"text",onKeyPress:this.onKeyPress,placeholder:"New task name",className:this.state.error?"error":""}),o.a.createElement("button",{onClick:this.onAddItemClick,className:"btn"},"Add")))}}]),e}(o.a.Component),A=a(11),I="todolist/reducer/ADD_TO_DO_LIST",N="todolist/reducer/ADD_TASK",w="todolist/reducer/CHANGE_TASK",M="todolist/reducer/DELETE_TODOLIST",F="todolist/reducer/DELETE_TASK",_="todolist/reducer/SET_TO_DO_LIST",P="todolist/reducer/SET_TASKS",H={toDoLists:[]},V=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case I:return Object(h.a)({},t,{toDoLists:[e.newList].concat(Object(A.a)(t.toDoLists))});case _:return Object(h.a)({},t,{toDoLists:e.toDoLists.map((function(t){return Object(h.a)({},t,{tasks:[]})}))});case P:return Object(h.a)({},t,{toDoLists:t.toDoLists.map((function(t){return t.id!==e.todolistId?t:Object(h.a)({},t,{tasks:e.tasks})}))});case N:var a=t.toDoLists.map((function(t){return t.id!==e.newTask.todoListId?t:Object(h.a)({},t,{tasks:[].concat(Object(A.a)(t.tasks),[e.newTask])})}));return Object(h.a)({},t,{toDoLists:a});case w:return Object(h.a)({},t,{toDoLists:t.toDoLists.map((function(t){return t.id!==e.toDoListId?t:Object(h.a)({},t,{tasks:Object(A.a)(t.tasks.map((function(t){return t.id!==e.taskId?t:Object(h.a)({},t,{},e.obj)})))})}))});case"CHANGE_LIST_TITLE":return Object(h.a)({},t,{toDoLists:t.toDoLists.map((function(t){return t.id!==e.toDoListId?t:Object(h.a)({},t,{},e.obj)}))});case M:return Object(h.a)({},t,{toDoLists:t.toDoLists.filter((function(t){return t.id!==e.toDoListId}))});case F:return Object(h.a)({},t,{toDoLists:t.toDoLists.map((function(t){return t.id!==e.toDoListId?t:Object(h.a)({},t,{tasks:t.tasks.filter((function(t){return t.id!==e.taskId}))})}))})}return t},K=function(t){function e(t){var a;return Object(r.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).restoreState=function(){L(a.props.id).then((function(t){t.data.error||a.props.setTasks(t.data.items,a.props.id)}))},a.state={tasks:[],filterValue:"All"},a.saveState=function(){localStorage.setItem("our-state"+a.props.id,JSON.stringify(a.state))},a.addItem=function(t){v(t,a.props.id).then((function(t){0===t.data.resultCode&&a.props.addTask(t.data.data.item)}))},a.changeFilter=function(t){a.setState({filterValue:t},(function(){a.saveState()}))},a.changeStatus=function(t,e){T(a.props.id,t.id,t,{status:e}).then((function(n){0===n.data.resultCode&&a.props.\u0441hangeTask(a.props.id,t.id,{status:e})}))},a.changeTitleOfList=function(t){g(a.props.id,{title:t}).then((function(e){0===e.data.resultCode&&a.props.\u0441hangeListTitle(a.props.id,{title:t})}))},a.changeTitle=function(t,e){T(a.props.id,t.id,t,{title:e}).then((function(n){0===n.data.resultCode&&a.props.\u0441hangeTask(a.props.id,t.id,{title:e})}))},a.changePriority=function(t,e){T(a.props.id,t.id,t,{priority:e}).then((function(n){0===n.data.resultCode&&a.props.\u0441hangeTask(a.props.id,t.id,{priority:e})}))},a.deleteToDoList=function(){E(a.props.id).then((function(t){0===t.data.resultCode&&a.props.deleteToDoList(a.props.id)}))},a.deleteTask=function(t){O(a.props.id,t).then((function(e){0===e.data.resultCode&&a.props.deleteTask(a.props.id,t)}))},a.render=function(){var t=a.props.tasks,e=void 0===t?[]:t;return o.a.createElement("div",{className:"todoList"},o.a.createElement(y,{title:a.props.title,deleteToDoList:a.deleteToDoList,changeTitle:a.changeTitleOfList}),o.a.createElement(S,{addItem:a.addItem}),o.a.createElement(D,{changeTitle:a.changeTitle,changeStatus:a.changeStatus,deleteTask:a.deleteTask,changePriority:a.changePriority,tasks:e.filter((function(t){return"All"===a.state.filterValue||("Completed"===a.state.filterValue?1===t.status:"Active"===a.state.filterValue?0===t.status:void 0)}))}),o.a.createElement(C,{isHidden:a.state.isHidden,filterValue:a.state.filterValue,changeFilter:a.changeFilter}))},a}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(o.a.Component),x=Object(p.b)(null,(function(t){return{addTask:function(e){t(function(t){return{type:N,newTask:t}}(e))},"\u0441hangeTask":function(e,a,n){t(function(t,e,a){return{type:w,obj:a,taskId:e,toDoListId:t}}(e,a,n))},"\u0441hangeListTitle":function(e,a){t(function(t,e){return{type:"CHANGE_LIST_TITLE",obj:e,toDoListId:t}}(e,a))},deleteToDoList:function(e){t(function(t){return{type:M,toDoListId:t}}(e))},deleteTask:function(e,a){t(function(t,e){return{type:F,toDoListId:t,taskId:e}}(e,a))},setTasks:function(e,a){t(function(t,e){return{type:P,tasks:t,todolistId:e}}(e,a))}}}))(K),B=function(t){function e(){var t,a;Object(r.a)(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(i)))).state={toDoLists:[]},a.restoreState=function(){b().then((function(t){a.props.setToDoList(t.data)}))},a.nextToDoListId=0,a.addToDoList=function(t){k(t).then((function(t){0===t.data.resultCode&&a.props.addToDoList(t.data.data.item)}))},a.render=function(){var t=a.props.toDoLists.map((function(t){return o.a.createElement(x,{id:t.id,title:t.title,tasks:t.tasks})}));return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"header"},o.a.createElement("h3",null,"Add new list"),o.a.createElement(S,{addItem:a.addToDoList})),o.a.createElement("div",{className:"toDo"},t))},a}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(o.a.Component),G=Object(p.b)((function(t){return{toDoLists:t.toDoLists}}),(function(t){return{addToDoList:function(e){t(function(t){return{type:I,newList:t}}(e))},setToDoList:function(e){t(function(t){return{type:_,toDoLists:t}}(e))}}}))(B);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=a(10),W=Object(J.b)(V);s.a.render(o.a.createElement(p.a,{store:W},o.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.b4f65d7a.chunk.js.map